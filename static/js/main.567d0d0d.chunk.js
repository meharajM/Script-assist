(this["webpackJsonpscript-assist"]=this["webpackJsonpscript-assist"]||[]).push([[0],{40:function(e,n,t){e.exports=t(59)},45:function(e,n,t){},46:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){},57:function(e,n,t){},58:function(e,n,t){},59:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),i=t(3),r=t.n(i),o=(t(45),t(31)),s=t(32),l=t(37),u=t(34),d=t(35),f=t(18),m=(t(46),t(36));t(47);var h=function(e){return c.a.createElement("div",Object.assign({contentEditable:!0},e,{ref:e.elementRef}))};t(48);var g=function(e){var n=e.elementRef,t=e.id,a=e.onKeyDown,i=Object(m.a)(e,["elementRef","id","onKeyDown"]);return c.a.createElement("div",{className:"scene-heading"},c.a.createElement("span",{className:"scene-number"},"Scene ",e.sceneNumber,": "),c.a.createElement(h,{className:"int-ext",placeholder:"INT/EXT",elementRef:n,id:"".concat(t,"-int_ext"),onKeyDown:a}),c.a.createElement(h,{className:"location",placeholder:"LOCATION",id:"".concat(t,"-location"),onKeyDown:a}),c.a.createElement(h,Object.assign({className:"time",contentEditable:!0,placeholder:"MORNING/NIGHT"},i,{onKeyDown:a,id:t})))};t(49);var p=function(e){return c.a.createElement("div",{className:"action"},c.a.createElement(h,Object.assign({placeholder:"Action"},e)))};t(50);var v=function(e){return c.a.createElement("div",{className:"charector"},c.a.createElement(h,Object.assign({placeholder:"Character name"},e)))},b="CHARECTOR",E="ACTION",w="PARANTHETICAL",O="DIALOGUE",N="SCENE_HEADING",k="TRANSITION";t(51);var y=function(e){return c.a.createElement("div",{className:"paranthetical"},c.a.createElement(h,Object.assign({placeholder:"describe state of charector"},e)))};t(52);var j=function(e){return c.a.createElement("div",{className:"dialogue"},c.a.createElement("div",{className:"dialogue-container"},c.a.createElement(h,Object.assign({placeholder:"Dialogue"},e))))};t(53);var C=function(e){return c.a.createElement("div",{className:"transition"},c.a.createElement(h,Object.assign({className:"transition",contentEditable:!0,placeholder:"FADEIN/FADEOUT/CUTTO"},e)))},A=t(85),T=t(84);var H=function(e){var n=e.show,t=e.handleClose,a=e.addSceneHeading,i=e.addAction,r=e.insChar,o=e.addDialogue,s=e.addParanthetical,l=e.addTransition,u=function(e){e(),t()};return c.a.createElement(T.a,{id:"elements-menu",open:n,onClose:t},c.a.createElement(A.a,{onClick:function(){return u(a)}},"Scene heading"),c.a.createElement(A.a,{onClick:function(){return u(i)}},"Action"),c.a.createElement(A.a,{onClick:function(){return u(r)}},"Charector"),c.a.createElement(A.a,{onClick:function(){return u(o)}},"Dialogue"),c.a.createElement(A.a,{onClick:function(){return u(s)}},"Paranthetical"),c.a.createElement(A.a,{onClick:function(){return u(l)}},"Transition"))};var D=function(e){var n=e.type,t=e.removeElement,i=e.id,r=Object(a.useState)(!1),o=Object(f.a)(r,2),s=o[0],l=o[1],u=null,d={onKeyDown:function(n){var a=n.currentTarget.innerText.trim(),c=n.currentTarget.id.split("-"),r=Object(f.a)(c,3),o=r[0],s=(r[1],r[2]),u="Enter"===n.key,d="Backspace"===n.key,m=function(e,n,t){var a,c=t.addAction,i=t.addTransition,r=t.addDialogue,o=t.addParanthetical,s=t.insChar,l=t.addSceneHeading;switch(n&&e.toLowerCase()){case"s":a=l;break;case"a":a=c;break;case"t":a=i;break;case"d":a=r;break;case"p":a=o;break;case"c":a=s;break;default:a=null}return a}(n.key,n.shiftKey,e);m?(m(),n.preventDefault()):u&&n.shiftKey?(l((function(e){return!e})),n.preventDefault()):d&&!a.length?("sceneHeading"!==o||"sceneHeading"===o&&"int_ext"===s)&&(t(i),n.preventDefault()):!u||"character"!==o&&"paranthetical"!==o&&"sceneHeading"!==o||n.preventDefault()}};switch(n){case N:u=g;break;case E:u=p;break;case b:u=v;break;case w:u=y;break;case O:u=j;break;case k:u=C}return c.a.createElement("div",{className:"element"},c.a.createElement(u,Object.assign({},d,e)),c.a.createElement(H,Object.assign({show:s},e,{handleClose:function(){l(!1)}})))};t(57);var S=function(e){var n=e.elements,t={sceneHeading:1,action:0,charector:0,dialogue:0,paranthetical:0,transition:0},i=Object(a.useState)(n||[{type:N,sceneNumber:t.sceneHeading,id:"sceneHeading-".concat(t.sceneHeading)}]),r=Object(f.a)(i,2),o=r[0],s=r[1],l=Object(a.useState)("sceneHeading-".concat(t.sceneHeading)),u=Object(f.a)(l,2),m=u[0],h=u[1],g=Object(a.useRef)(null);Object(a.useEffect)((function(){g&&g.focus&&(g.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd())}));var p=function(e){s((function(n){return[].concat(Object(d.a)(n),[e])})),h(e.id)},v=function(e){g=e},y={removeElement:function(e){if(o.length>1&&e){var n=o.filter((function(n){return n.id!==e}));s((function(t){return e?n:t})),h(n[n.length-1].id)}},addAction:function(){t.action+=1,p({type:E,id:"action-".concat(t.action)})},addTransition:function(){t.transition+=1,p({type:k,id:"transition-".concat(t.transition)})},addDialogue:function(){t.dialogue+=1,p({type:O,id:"dialogue-".concat(t.dialogue)})},addParanthetical:function(){t.parantheticals+=1,p({type:w,id:"paranthetical-".concat(t.parantheticals)})},insChar:function(){t.charector+=1,p({type:b,id:"character-".concat(t.charector)})},addSceneHeading:function(){t.sceneHeading+=1,p({type:N,id:"sceneHeading-".concat(t.sceneHeading),sceneNumber:t.sceneHeading})}};return c.a.createElement("div",{className:"board"},o.map((function(e){return c.a.createElement(D,Object.assign({},e,y,{elementRef:e.id===m?v:null}))})))},R=(t(58),function(e){Object(l.a)(t,e);var n=Object(u.a)(t);function t(){return Object(o.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header center"},"Script assist"),c.a.createElement("div",{className:"App-container"},c.a.createElement(S,null)))}}]),t}(c.a.Component)),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Script-assist",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/Script-assist","/service-worker.js");I?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(n,e)}))}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.567d0d0d.chunk.js.map